<!doctype html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Convite de Casamento ‚Äî An√≠cia & Nelson</title>
  
  <link rel="icon" type="image/png" href="https://i.postimg.cc/T3tNdXL6/lirandzo.png">

  <meta property="og:title" content="Convite de Casamento ‚Äî An√≠cia & Nelson">
  <meta property="og:description" content="Junte-se a n√≥s para celebrar o nosso casamento e o in√≠cio de uma nova etapa das nossas vidas.">
  <meta property="og:type" content="lirandzo.com">
  <meta property="og:image" content="https://i.postimg.cc/wB66B0vk/2T2A4873.jpg"> <meta property="og:url" content="edmilsonmula.info">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Great+Vibes&family=Poppins:wght@300;400&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="style.css">
</head>
<body class="loading">
  
  <audio id="backgroundMusic" loop src="https://static.wixstatic.com/mp3/819ea0_e333d443f2f545e59d79429cdd3c1361.mp3"></audio>
  <button id="musicControl" aria-label="Controlar m√∫sica">
    <svg id="musicIcon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13M9 18a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM21 16a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"/></svg>
  </button>
  
  <div class="sticky-header">
      <h1 class="names">An√≠cia & Nelson</h1>
  </div>
  
  <main class="invite-wrap" role="main" aria-labelledby="inviteTitle">
    
    <header class="hero">
      <svg class="animated-flower-svg animated-flower-4" style="top: 20px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
      <svg class="animated-flower-svg animated-flower-3" style="bottom: 20px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
     
      <div class="hero-content">
        <p class="lead">CONVIDAMO-LO(A) A CELEBRAR O NOSSO CASAMENTO</p>
        <h1 id="inviteTitle">AN√çCIA & NELSON</h1>
        <div id="countdown">
            <div class="countdown-item"><span id="days">00</span><small>Dias</small></div>
            <div class="countdown-item"><span id="hours">00</span><small>Horas</small></div>
            <div class="countdown-item"><span id="minutes">00</span><small>Minutos</small></div>
            <div class="countdown-item"><span id="seconds">00</span><small>Segundos</small></div>
        </div>
        <a href="#guia-evento" class="btn btn-primary btn-cover hero-button-pulse" style="margin-top: 20px;">VER DETALHES DO EVENTO</a>
      </div>
    </header>

    <section class="section fade-in-section" id="nossa-historia" aria-labelledby="historyTitle">
      
      <p style="margin: 0 0 10px; font-size:20px;">
        Para que todos vejam, e saibam, e considerem, e juntamente entendam que a m√£o do SENHOR fez isso. 
      </p>
      <p style="margin: 0 0 10px; font-size:20px;">
        Isa√≠as 41:20 </p>
      
      <h3 class="section-title">OS NOIVOS</h3>
      
      <div class="history-grid">
          <img src="https://i.postimg.cc/g0NGL8XV/2T2A4909.jpg" alt="Foto do primeiro encontro do casal">
      </div>
      
      <h3 class="section-title">AN√çCIA</h3>
      
      <p style="margin: 0 0 10px; font-size:18px;">
        Filha de: ARS√âNIO FILIPE (em mem√≥ria) e de INES MATSINHE
      </p>
      
      <h3 class="section-title">NELSON</h3>
      
      <p style="margin: 0 0 10px; font-size:18px;">
        Filho de: ANT√ìNIO XERIDA e de RITA
      </p>
      
      <h3 class="section-title">COM A BEN√á√ÉO DE DEUS</h3>
      <p style="margin: 0; font-size:18px;">
        Temos a honra de convida-lo(a) a comemorar esta data especial connosco. Venha juntar-se a n√≥s e ajudar-nos a celebrar o nosso casamento de acordo com o programa abaixo:
      </p>
    </section>
      
    <div class="floral-divider fade-in-section">
      <svg class="animated-flower-svg animated-flower-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
      <svg class="animated-flower-svg animated-flower-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
    </div>
    <section class="section fade-in-section" style="padding-top: 30px; padding-bottom: 30px; background: #deede7; border-radius: 12px; margin: 0 10px;" aria-label="Detalhes do evento">
      <h3 class="section-title">üóì Agenda do Evento</h3>
      <div class="pill">Data: 13 Dezembro 2025</div>
  
      <div class="agenda-grid" style="margin-top: 24px; text-align: left; max-width: 400px; margin-left: auto; margin-right: auto; font-family: 'Poppins', sans-serif;">
          <div class="agenda-item" style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
              <div style="display: flex; justify-content: space-between;">
                  <span>‚õ™Ô∏é Cerim√≥nia Religiosa</span>
                  <strong>09:00</strong>
              </div>
              <a href="#" class="btn btn-outline small-map-btn" id="mapBtnReligiosa" target="_blank" rel="noopener noreferrer">Ver Mapa</a>
          </div>
          <div class="agenda-item" style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
              <div style="display: flex; justify-content: space-between;">
                  <span>‚ôî Cerim√≥nia Civil</span>
                  <strong>13:30</strong>
              </div>
              <a href="#" class="btn btn-outline small-map-btn" id="mapBtnCivil" target="_blank" rel="noopener noreferrer">Ver Mapa</a>
          </div>
          <div class="agenda-item" style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
              <span>üì∑ Sec√ß√£o de Fotos</span>
              <strong>14:30</strong>
          </div>
          <div class="agenda-item" style="display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
              <span>êÉØ Copo de √Ågua</span>
              <strong>15:30</strong>
          </div>
          <div class="agenda-item" style="display: flex; justify-content: space-between; padding: 10px 0;">
              <span>‚ô• Sa√≠da dos Noivos</span>
              <strong>22:00</strong>
          </div>
      </div>
    </section>
    
    <div class="floral-divider fade-in-section">
      <svg class="animated-flower-svg animated-flower-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
    </div>
    <section class="section fade-in-section" id="galeria">
      <h2 style="margin-bottom: 20px;">Galeria de Momentos</h2>
      <div class="gallery-grid">
            <div class="gallery-image-container">
                <img src="https://i.postimg.cc/9fJcwZRS/2T2A4974.jpg" alt="Momentos especiais do casal" data-src="https://i.postimg.cc/9fJcwZRS/2T2A4974.jpg">
            </div>
            <div class="gallery-image-container">
                <img src="https://i.postimg.cc/MGdzfVMm/2T2A4899.jpg" alt="Foto do pedido de noivado" data-src="https://i.postimg.cc/MGdzfVMm/2T2A4899.jpg">
            </div>
            <div class="gallery-image-container">
                <img src="https://i.postimg.cc/BvMJPHLF/2-T2-A4865-2.jpg" alt="Foto de uma viagem recente do casal" data-src="https://i.postimg.cc/BvMJPHLF/2-T2-A4865-2.jpg">
            </div>
            </div>
    </section>

    <div class="floral-divider fade-in-section">
      <svg class="animated-flower-svg animated-flower-1" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-8h2v-7h-2v7zM15 9h-2v-4h2v4zM9 9h2v-4H9v4zM16.5 12h-2v-2h2v2zM7.5 12h2v-2h-2v2z"/></svg>
    </div>
    <section class="section fade-in-section " id="guia-evento" aria-labelledby="guiaTitle" style="margin-top: 10px; padding-top: 20px; padding-bottom: 30px; background: #deede7; border-radius: 20px; margin: 0 10px;">
        <h2 id="guiaTitle">Guia do Evento</h2>
        <p class="text-muted">Tudo o que precisa de saber para celebrar connosco.</p>
    
        <div style="margin-top:30px;">
            <h3>Inspira√ß√£o de Vestu√°rio</h3>
            <p class="text-muted" style="margin-bottom: 8px;">N√£o sabe o que vestir? Deixamos aqui sugest√µes no estilo casual elegante.</p>
            <button class="pill interactive" id="dressCodeBtn">Ver Sugest√µes de Traje</button>
        </div>

        <div style="margin-top:30px;">
            <h3>Um Mimo para o Futuro</h3>
            <p class="text-muted" style="margin-bottom: 8px;">A sua presen√ßa √© o maior presente! Se, ainda assim, desejar contribuir, pode faz√™-lo aqui.</p>
            <button class="pill interactive" id="giftBtn">Contribui√ß√£o</button>
        </div>
    
        <div style="margin-top:40px;">
             <h3>Confirme a Sua Presen√ßa</h3>
             <p class="text-muted" style="margin-bottom: 18px;">Por favor, informe-nos se poderemos contar consigo at√© ao dia 30 de Novembro de 2025.</p>
             <div class="action-buttons">
                <button class="btn btn-primary" id="rsvpBtn">Confirmar Presen√ßa</button>
                <a href="#" class="btn btn-outline" id="mapBtn" target="_blank" rel="noopener noreferrer">Como Chegar ao Local</a>
             </div>
        </div>
    </section>
    
    <div class="actions fade-in-section" style="padding-top:30PX;">
        <button class="btn btn-ghost" id="shareBtn">Partilhar Convite</button>
        <div style="flex:1"></div>
        <div style="display:flex;gap:8px;align-items:center;margin-top:12px">
          <span class="small">Tem d√∫vidas? <strong>Contacto:</strong> +258 84 679 7664</span>
        </div>
    </div>
    
    <footer class="note fade-in-section">Este convite √© interactivo. Esperamos por si!</footer>

  </main>

  <div class="modal" id="rsvpModal" role="dialog" aria-modal="true" aria-labelledby="rsvpTitle">
    <div class="modal-card">
      <h3 id="rsvpTitle">Confirmar Presen√ßa</h3>
      <p class="small">Preencha os dados e escolha como enviar a confirma√ß√£o.</p>
      <form id="rsvpForm">
        <div style="margin-top:12px"><label for="nome">Nome completo</label><input type="text" id="nome" required placeholder="Ex: Edmilson Mula"></div>
        <div style="margin-top:12px" class="form-row">
          <div style="flex:1"><label for="guests">N¬∫ de convidados</label><select id="guests"><option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5+">5+</option></select></div>
          <div style="flex:1"><label for="phone">Telefone (opcional)</label><input id="phone" placeholder="+258 84X XXX XXX"></div>
        </div>
        <div style="margin-top:12px"><label for="message">Mensagem (opcional)</label><textarea id="message" placeholder="Ex: Mal posso esperar por celebrar convosco!"></textarea></div>
        <div style="display:flex;gap:10px;margin-top:18px;align-items:center;flex-wrap:wrap">
          <button type="submit" class="btn btn-primary">Enviar por Email</button>
          <button type="button" class="btn btn-outline" id="sendWhatsapp">Enviar por WhatsApp</button>
          <button type="button" class="btn btn-ghost" data-close-modal>Fechar</button>
        </div>
      </form>
    </div>
  </div>

  <div class="modal" id="dressCodeModal" role="dialog" aria-modal="true" aria-labelledby="dressCodeTitle">
    <div class="modal-card" style="max-width: 580px;">
        <h3 id="dressCodeTitle" style="text-align: center;">Inspira√ß√£o: Casual Elegante</h3>
        <p class="small" style="text-align: center;">O objetivo √© o conforto sofisticado. Sugerimos tons pastel e neutros.</p>
        <div class="dresscode-grid">
            <img src="https://i.postimg.cc/VsSvKHNd/0b4101a4c5556ae927ef69348194c870.jpg" alt="Homem com blazer bege e camisa branca.">
            <img src="https://i.postimg.cc/ZY9nwDqf/f93df53647dc07cb00ab458e4b8c4c20.jpg" alt="Mulher com vestido floral midi.">
            <img src="https://i.postimg.cc/056jVHNr/R.jpg" alt="Homem com cal√ßas de linho e camisa de bot√µes.">
            <img src="https://i.postimg.cc/PfLJSFq1/52670e4fe4737f60850c6b657b1dd18e.jpg" alt="Mulher com saia plissada e blusa de seda.">
        </div>
        <button type="button" class="btn btn-ghost" data-close-modal style="width:100%; margin-top:15px">Entendi</button>
    </div>
  </div>

  <div class="modal" id="giftModal" role="dialog" aria-modal="true" aria-labelledby="giftTitle">
    <div class="modal-card">
        <h3 id="giftTitle" style="text-align: center;">Contribui√ß√£o para o Nosso Futuro</h3>
        <p class="small" style="text-align: center;">Sua presen√ßa √© o mais importante! Se quiser contribuir, aqui est√£o as op√ß√µes. O valor √© livre.</p>
        <div class="contact-info-block"><p style="margin:0;color:#333;font-size:16px;"><strong>Conta Banc√°ria (BIM)</strong></p><p class="small" style="margin-top:4px;">Titular: An√≠cia Filipe<br>N¬∫ da Conta: 404855982<br>NIB: 000100000040485598257</p></div>
        <div class="contact-info-block"><p style="margin:0;color:#333;font-size:16px;"><strong>M-Pesa / e-Mola</strong></p><p class="small" style="margin-top:4px;">N√∫mero: +258 84 723 0763 (Nelson Xerinda)<br>N√∫mero: +258 878797664 (An√≠cia Filipe)</p></div>
        <button type="button" class="btn btn-primary" data-close-modal style="width:100%; margin-top:15px">Obrigado(a)!</button>
    </div>
  </div>
  
  <div class="modal" id="lightboxModal" role="dialog" aria-modal="true" aria-labelledby="lightboxTitle">
      <div class="modal-card">
          <img id="lightboxImage" src="" alt="Imagem ampliada da galeria" />
          <button type="button" class="btn btn-ghost" data-close-modal style="position: absolute; top: 10px; right: 10px; z-index: 110; color: white; background: rgba(0,0,0,0.5);">Fechar</button>
      </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // --- CONFIGURA√á√ïES ---
      const HOST_WHATSAPP_NUMBER = '+258846797664';
      const ADDRESS_RELIGIOSA = '5J7R+GFJ Igreja presbiteriana- par√≥quia de Guava, Marracuene';
      const ADDRESS_CIVIL_COPO_DE_AGUA = '6H3J+R8J Chakara Do Amor Eventos, Zimpeto - Mo√ßambique!, Maputo'; 
      const EVENT_DATE = "2025-12-13T09:00:00"; 
      const RSVP_EMAIL = "aniciayf@gmail.com";
      
      const music = document.getElementById('backgroundMusic');
      const musicControl = document.getElementById('musicControl');
      const rsvpForm = document.getElementById('rsvpForm');
      const mapBtnGeral = document.getElementById('mapBtn');
      const mapBtnReligiosa = document.getElementById('mapBtnReligiosa'); 
      const mapBtnCivil = document.getElementById('mapBtnCivil');
      const shareBtn = document.getElementById('shareBtn');
      const stickyHeader = document.querySelector('.sticky-header');
      const galleryImages = document.querySelectorAll('.gallery-grid img');
      const lightboxModal = document.getElementById('lightboxModal');
      const lightboxImage = document.getElementById('lightboxImage');
      const body = document.body;
      // NOVO: Refer√™ncia para o bot√£o "Voltar ao Topo"
      const backToTopBtn = document.getElementById('backToTop'); 
      
      // 1. Transi√ß√£o de Carregamento Suave
      window.onload = () => {
          body.classList.remove('loading');
          body.classList.add('loaded');
      };
      setTimeout(() => {
          if (body.classList.contains('loading')) {
              body.classList.remove('loading');
              body.classList.add('loaded');
          }
      }, 500); 

      // --- BLOCO DE CONTROLO DE M√öSICA ---
      const updateMusicIcon = () => {
        musicControl.innerHTML = music.paused 
            ? `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 5L6 9H2v6h4l5 4V5zM23 9l-6 6M17 9l6 6"/></svg>`
            : `<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 18V5l12-2v13M9 18a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM21 16a4 4 0 1 1-8 0 4 4 0 0 1 8 0z"/></svg>`;
        musicControl.classList.toggle('playing', !music.paused);
      };

      const tryAutoplay = music.play();
      if (tryAutoplay !== undefined) {
        tryAutoplay.catch(error => {
          const playOnFirstInteraction = () => {
            music.play().then(() => {
              sessionStorage.setItem('musicPlayed', 'true');
              updateMusicIcon();
              document.removeEventListener('click', playOnFirstInteraction);
              document.removeEventListener('touchstart', playOnFirstInteraction);
            }).catch(e => console.warn("Falha ao reproduzir ap√≥s intera√ß√£o: ", e));
          };
          document.addEventListener('click', playOnFirstInteraction);
          document.addEventListener('touchstart', playOnFirstInteraction);
        });
      }
      
      musicControl.addEventListener('click', () => {
          music.paused ? music.play() : music.pause();
          sessionStorage.setItem('musicPlayed', !music.paused);
          updateMusicIcon();
      });
      
      updateMusicIcon();
      
      // L√≥gica do Sticky Header e Bot√£o Voltar ao Topo
      const handleScrollEvents = () => {
          // Sticky Header
          if (window.scrollY > 100) {
              stickyHeader.classList.add('is-scrolled');
          } else {
              stickyHeader.classList.remove('is-scrolled');
          }
          
          // Bot√£o Voltar ao Topo (Aparece ap√≥s 400px de rolagem)
          if (window.scrollY > 400) {
              backToTopBtn.classList.add('show');
          } else {
              backToTopBtn.classList.remove('show');
          }
      };
      window.addEventListener('scroll', handleScrollEvents);
      
      // L√≥gica de Scroll do Bot√£o Voltar ao Topo
      if (backToTopBtn) {
          backToTopBtn.addEventListener('click', () => {
              window.scrollTo({
                  top: 0,
                  behavior: 'smooth' 
              });
          });
      }

      // 2. Efeito Tilt nas Imagens da Galeria
      const MAX_TILT = 5; 
      const containers = document.querySelectorAll('.gallery-image-container');
      
      containers.forEach(container => {
        const img = container.querySelector('img');

        const handleMove = (e) => {
            const rect = container.getBoundingClientRect();
            let x = e.clientX || (e.touches ? e.touches[0].clientX : undefined);
            let y = e.clientY || (e.touches ? e.touches[0].clientY : undefined);

            if (x === undefined || y === undefined) return;

            const offsetX = (x - rect.left) / rect.width;
            const offsetY = (y - rect.top) / rect.height;

            const tiltX = (offsetY - 0.5) * 2 * -MAX_TILT; 
            const tiltY = (offsetX - 0.5) * 2 * MAX_TILT; 

            img.style.transform = `scale(1.05) perspective(1000px) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
        };

        const handleEnter = () => {
            img.style.transition = 'transform 0.1s linear';
        };

        const handleLeave = () => {
            img.style.transition = 'transform 0.4s cubic-bezier(0.2, 0.6, 0.2, 1)';
            img.style.transform = 'scale(1) rotateX(0deg) rotateY(0deg)';
        };

        container.addEventListener('mousemove', handleMove);
        container.addEventListener('mouseenter', handleEnter);
        container.addEventListener('mouseleave', handleLeave);
        container.addEventListener('touchmove', handleMove);
        container.addEventListener('touchend', handleLeave);
        container.addEventListener('touchstart', handleEnter);
      });

      // Lightbox Logic - ABRIR
      galleryImages.forEach(img => {
          img.addEventListener('click', () => {
              lightboxImage.src = img.getAttribute('data-src');
              lightboxModal.classList.add('open');
          });
      });
      
      // Lightbox Logic - FECHAR
      if (lightboxModal) {
          lightboxModal.addEventListener('click', (e) => {
              if (e.target === lightboxModal || e.target.closest('[data-close-modal]')) {
                  lightboxModal.classList.remove('open');
              }
          });
      }


      // --- CORRE√á√ÉO FINAL E UNIVERSAL DO GOOGLE MAPS ---
      const createMapLink = (address, isDirections = false) => {
        const encodedAddress = encodeURIComponent(address);
        if (isDirections) {
            return `https://www.google.com/maps/dir/?api=1&destination=${encodedAddress}`; 
        }
        return `https://www.google.com/maps/search/?api=1&query=${encodedAddress}`; 
      };

      // Aplica√ß√£o dos links corrigidos
      if (mapBtnGeral) mapBtnGeral.href = createMapLink(ADDRESS_CIVIL_COPO_DE_AGUA, true); 
      if (mapBtnReligiosa) mapBtnReligiosa.href = createMapLink(ADDRESS_RELIGIOSA); 
      if (mapBtnCivil) mapBtnCivil.href = createMapLink(ADDRESS_CIVIL_COPO_DE_AGUA); 

      // --- RESTANTE DO C√ìDIGO (COUNTDOWN E MODALS) ---

      const countdownInterval = setInterval(() => {
        const distance = new Date(EVENT_DATE).getTime() - new Date().getTime();
        if (distance < 0) {
          clearInterval(countdownInterval);
          document.getElementById("countdown").innerHTML = "O GRANDE DIA CHEGOU!";
          return;
        }
        const format = (num) => String(num).padStart(2, '0');
        document.getElementById("days").innerText = format(Math.floor(distance / (1000 * 60 * 60 * 24)));
        document.getElementById("hours").innerText = format(Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)));
        document.getElementById("minutes").innerText = format(Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)));
        document.getElementById("seconds").innerText = format(Math.floor((distance % (1000 * 60)) / 1000));
      }, 1000);

      const setupModal = (buttonId, modalId) => {
          const button = document.getElementById(buttonId);
          const modal = document.getElementById(modalId);
          if (!button || !modal) return;
          
          button.addEventListener('click', () => modal.classList.add('open'));
          modal.addEventListener('click', (e) => {
              if (e.target === modal || e.target.closest('[data-close-modal]')) {
                  modal.classList.remove('open');
              }
          });
      };
      
      setupModal('rsvpBtn', 'rsvpModal');
      setupModal('dressCodeBtn', 'dressCodeModal');
      setupModal('giftBtn', 'giftModal');

      const getRsvpData = () => ({
        nome: document.getElementById('nome').value.trim(),
        guests: document.getElementById('guests').value,
        phone: document.getElementById('phone').value.trim(),
        message: document.getElementById('message').value.trim()
      });

      rsvpForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const data = getRsvpData();
        
        if (!data.nome) {
          alert('Por favor, preencha o seu nome completo.');
          document.getElementById('nome').focus();
          return;
        }
        
        const subject = encodeURIComponent('RSVP ‚Äî Confirma√ß√£o de Presen√ßa An√≠cia & Nelson');
        const body = `Nome: ${data.nome}%0D%0AConvidados: ${data.guests}%0D%0ATelefone: ${data.phone}%0D%0AMensagem: ${data.message}`;
        window.location.href = `mailto:${RSVP_EMAIL}?subject=${subject}&body=${body}`;
        document.getElementById('rsvpModal').classList.remove('open');
      });

      document.getElementById('sendWhatsapp').addEventListener('click', () => {
        const data = getRsvpData();
        if (!data.nome) { 
          alert('Por favor, preencha o seu nome completo.');
          document.getElementById('nome').focus(); 
          return; 
        }
        const text = `RSVP - Ol√°! Confirmo a minha presen√ßa. Nome: ${data.nome}, Convidados: ${data.guests}. Mensagem: ${data.message}`;
        const waUrl = `https://wa.me/${HOST_WHATSAPP_NUMBER.replace(/\D/g,'')}?text=${encodeURIComponent(text)}`;
        window.open(waUrl, '_blank');
        document.getElementById('rsvpModal').classList.remove('open');
      });
      
      shareBtn.addEventListener('click', async () => {
        const shareData = {
          title: 'Convite de Casamento ‚Äî An√≠cia & Nelson',
          text: 'Junte-se a n√≥s para celebrar o nosso casamento! Confirme a sua presen√ßa aqui:',
          url: window.location.href
        };
        try {
          if (navigator.share) {
            await navigator.share(shareData);
          } else {
            await navigator.clipboard.writeText(`${shareData.text}\n${shareData.url}`);
            alert('Link do convite copiado para a √°rea de transfer√™ncia.');
          }
        } catch (err) { console.error('Erro ao partilhar:', err); }
      });
      
      const animatedSections = document.querySelectorAll('.fade-in-section');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });

      animatedSections.forEach(section => observer.observe(section));
    });
  </script>
</body>
</html>